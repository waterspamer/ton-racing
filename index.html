<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Гараж</title>

  <!-- Подключение стилей -->
  <link rel="stylesheet" href="styles/garage.css">
  <link rel="stylesheet" href="styles/race.css">

  <link href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&display=swap" rel="stylesheet">
  
  <!-- Подключение Telegram Web Apps SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  
  <!-- Подключение библиотек -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fflate/umd/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r147/examples/js/loaders/FBXLoader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/RGBELoader.js"></script>

  <!-- Подключение собственных скриптов с отложенной загрузкой -->
  <script src="scripts/modelLoader.js" defer></script>
  <script src="scripts/garage.js" defer></script>
  <script src="scripts/race.js" defer></script>
</head>
<body>
  <!-- Контейнер для загрузки -->
  <div id="loading-container">
    <div id="loading-label">Загрузка:</div>
    <div id="loading-bar-bg">
      <div id="loading-bar"></div>
    </div>
  </div>

  <!-- Отображение монет -->
  <div id="coins-display">Монеты: 5000</div>

  <!-- Контейнер для 3D-сцены -->
  <div id="garage-container"></div>
  
  <!-- Приветственное сообщение -->
  <div id="garage-menu" style="display:none">
    <div id="greeting">Логинься и поехали!</div>
    <div class="tg-button">Connect Telegram</div>
  </div>

  <!-- Меню действий -->
  <div id="action-menu" style='display: none;'>
    <div class='action-button' id="open-tuning">Тюнинг</div>
    <div class='action-button' id="start-race">Гонка</div>
  </div>

  <!-- Отдельное окно для характеристик автомобиля -->
  <div id="car-stats-window" class="hidden">
    <div class="car-stats-header">
      <h2>Характеристики Автомобиля</h2>
    </div>
    <div id="car-stats">
      <div class="stat">
        <span>Мощность (л.с.):</span>
        <div class="stat-bar">
          <div class="stat-fill" id="stat-power"></div>
        </div>
      </div>
      <div class="stat">
        <span>Крутящий момент (Нм):</span>
        <div class="stat-bar">
          <div class="stat-fill" id="stat-torque"></div>
        </div>
      </div>
      <div class="stat">
        <span>Сцепление:</span>
        <div class="stat-bar">
          <div class="stat-fill" id="stat-grip"></div>
        </div>
      </div>
      <div class="stat">
        <span>Сопротивление воздуха:</span>
        <div class="stat-bar">
          <div class="stat-fill" id="stat-drag"></div>
        </div>
      </div>
      <!-- Добавьте другие характеристики по необходимости -->
    </div>
  </div>


<div class = "race-gui hide">
  <div id = "visuals">
    <div id = "speedometer"></div>
  </div>
  <div id = "controls">
    <div id = 'gas-pedal'></div>
  </div>
</div>


<!-- Меню тюнинга -->
<div id="tuning-menu" class="hidden" aria-hidden="true">
  <div class="tuning-header">
    <div class="tuning-tabs" role="tablist">
      <button class="tuning-tab active" data-tab="tuning" role="tab" aria-selected="true">Тюнинг</button>
      <button class="tuning-tab" data-tab="detailing" role="tab" aria-selected="false">Детейлинг</button>
      <button class="tuning-tab" data-tab="detailing" role="tab" aria-selected="false">Стайлинг</button>
    </div>
    <button id="close-tuning" class="close-button"  aria-label="Закрыть меню тюнинга">✖</button>
  </div>
  
  <!-- Контейнеры для вкладок -->
  <div id="tuning-content">
    <!-- Контент для вкладки "Тюнинг" -->
    <div class="tab-content active" data-tab-content="tuning" role="tabpanel">
      <!-- Контейнер для категорий улучшений (горизонтальный скролл) -->
      <div id="upgrade-categories">
        <!-- Категории будут загружаться динамически из JSON -->
      </div>
      
      <!-- Контейнер для грейдов улучшений (вертикальный скролл) -->
      <div id="upgrade-grades">
        <!-- Грейды улучшений будут загружаться динамически из JSON -->
      </div>
    </div>
    
    <!-- Контент для вкладки "Детейлинг" -->
    <div class="tab-content" data-tab-content="detailing" role="tabpanel" hidden>
      <!-- Раздел "Краска" -->
      <section class="detailing-section">
        <h3>Краска</h3>
        <div class="paint-options">
          <!-- Цвет 1 -->
          <button class="paint-option" data-color="0xff0000" style="background-color: #ff0000;" title="Красный" aria-label="Красный"></button>
          <!-- Цвет 2 -->
          <button class="paint-option" data-color="0xffffff" style="background-color: #ffffff;" title="Зелёный" aria-label="Зелёный"></button>
          <!-- Цвет 3 -->
          <button class="paint-option" data-color="0x0bda5a" style="background-color: #0bda5a;" title="Синий" aria-label="Синий"></button>

          <button class="paint-option" data-color="0x0bdad0" style="background-color: #0bdad0;" title="Синий" aria-label="Синий"></button>

          <button class="paint-option" data-color="0xda0bc9" style="background-color: #da0bc9;" title="Синий" aria-label="Синий"></button>

          <button class="paint-option" data-color="0x000000" style="background-color: #000000;" title="Синий" aria-label="Синий"></button>

          <button class="paint-option" data-color="0x0b0eda" style="background-color: #0b0eda;" title="Синий" aria-label="Синий"></button>
          <!-- Цвет 4 (с текстурой) -->
          <button class="paint-option" data-color="map" style="background: linear-gradient(45deg, blue, white);" title="Текстурированный" aria-label="Текстурированный"></button>
        </div>
        <h3>Тип краски</h3>
        <div class="metallic-options">
          <!-- Цвет 1 -->
          <button class="metallic-option" data-met="gl" style="background-color: #d3d3d3;">Глянец</button>
          <!-- Цвет 2 -->
          <button class="metallic-option" data-met="met" style="background-color: #747474;">Металлик</button>
          <!-- Цвет 3 -->
          <button class="metallic-option" data-met="mat" style="background-color: #3a3a3a;">Матовый</button>
          
        </div>
      </section>
    </div>
  </div>
</div>


</body>
</html>
