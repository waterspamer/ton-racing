<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Гараж</title>

  <!-- Подключение стилей -->
  <link rel="stylesheet" href="styles/garage.css">
  <link href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&display=swap" rel="stylesheet">
  
  <!-- Подключение Telegram Web Apps SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  
  <!-- Подключение библиотек -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fflate/umd/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.150.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/mrdoob/three.js@r147/examples/js/loaders/FBXLoader.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/RGBELoader.js"></script>

  <!-- Подключение собственных скриптов с отложенной загрузкой -->
  <script src="scripts/modelLoader.js" defer></script>
  <script src="scripts/garage.js" defer></script>
  <script src="scripts/race.js" defer></script>
</head>
<body>
  <!-- Контейнер для загрузки -->
  <div id="loading-container">
    <div id="loading-label">Загрузка:</div>
    <div id="loading-bar-bg">
      <div id="loading-bar"></div>
    </div>
  </div>

  <!-- Отображение монет -->
  <div id="coins-display">Монеты: 5000</div>

  <!-- Контейнер для 3D-сцены -->
  <div id="garage-container"></div>
  
  <!-- Приветственное сообщение -->
  <div id="garage-menu" style="display:none">
    <div id="greeting">Логинься и поехали!</div>
    <div class="tg-button">Connect Telegram</div>
  </div>

  <!-- Меню действий -->
  <div id="action-menu" style='display: none;'>
    <div class='action-button' id="open-tuning">Тюнинг</div>
    <div class='action-button' id="start-race">Гонка</div>
  </div>

  <!-- Отдельное окно для характеристик автомобиля -->
  <div id="car-stats-window" class="hidden">
    <div class="car-stats-header">
      <h2>Характеристики Автомобиля</h2>
    </div>
    <div id="car-stats">
      <div class="stat">
        <span>Мощность (л.с.):</span>
        <div class="stat-bar">
          <div class="stat-fill" id="stat-power"></div>
        </div>
      </div>
      <div class="stat">
        <span>Крутящий момент (Нм):</span>
        <div class="stat-bar">
          <div class="stat-fill" id="stat-torque"></div>
        </div>
      </div>
      <div class="stat">
        <span>Сцепление:</span>
        <div class="stat-bar">
          <div class="stat-fill" id="stat-grip"></div>
        </div>
      </div>
      <div class="stat">
        <span>Сопротивление воздуха:</span>
        <div class="stat-bar">
          <div class="stat-fill" id="stat-drag"></div>
        </div>
      </div>
      <!-- Добавьте другие характеристики по необходимости -->
    </div>
  </div>

  <!-- Меню тюнинга -->
  <div id="tuning-menu" class="hidden">
    <div class="tuning-header">
      <div class="tuning-tabs">
        <button class="tuning-tab active" data-tab="tuning">Тюнинг</button>
        <button class="tuning-tab" data-tab="detailing">Детейлинг</button>
      </div>
      <button id="close-tuning" class="close-button">✖</button>
    </div>
    
    <!-- Вкладки "Тюнинг" и "Детейлинг" -->
    
    
    <!-- Контейнеры для категорий и грейдов -->
    <div id="tuning-content">
      <!-- Контейнер для категорий улучшений (горизонтальный скролл) -->
      <div id="upgrade-categories" class="tab-content active" data-tab-content="tuning">
        <!-- Категории будут загружаться динамически из JSON -->
        <!-- Пример статичных категорий для наглядности -->
        <div class="upgrade-category active">Шины</div>
        <div class="upgrade-category">Аэродинамика</div>
        <div class="upgrade-category">Двигатель</div>
        <div class="upgrade-category">Выхлоп</div>
        <!-- Добавьте другие категории по необходимости -->
      </div>
      
      <!-- Контейнер для грейдов выбранной категории (вертикальный скролл) -->
      <div id="upgrade-grades" class="tab-content active" data-tab-content="tuning">
        <!-- Улучшения будут загружаться динамически из JSON -->
        <!-- Пример статичных улучшений для наглядности -->
        <div class="upgrade-grade">
          <div class="upgrade-details">
            <div class="upgrade-name">Спортивные шины (Грейд 1)</div>
            <div class="upgrade-description">Шины с улучшенным составом резины, обеспечивающие лучшее сцепление на сухой дороге.</div>
            <div class="upgrade-price">Цена: 500 монет</div>
          </div>
          <button class="purchase-button">Купить</button>
        </div>
        <!-- Добавьте другие улучшения по необходимости -->
      </div>
      
      <!-- Контейнер для Детейлинг -->
      <div id="detailing-content" class="tab-content" data-tab-content="detailing" style="display: none;">
        <!-- Раздел "Краска" -->
        <div class="detailing-section">
          <h3>Краска</h3>
          <div class="paint-options">
            <!-- Цвет 1 -->
            <div class="paint-option" data-color="0x18fa63" style="background-color: #18fa63;" title="Красный"></div>
            <!-- Цвет 2 -->
            <div class="paint-option" data-color="0x0f1891" style="background-color: #0f1891;" title="Зелёный"></div>
            <!-- Цвет 3 -->
            <div class="paint-option" data-color="0xffa600" style="background-color: #ffa600;" title="Синий"></div>
            <!-- Цвет 4 (с текстурой) -->
            <div class="paint-option" data-color="map" style="background: linear-gradient(45deg, blue, white);" title="Текстурированный"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
